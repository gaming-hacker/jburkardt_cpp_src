<html>

  <head>
    <title>
      timer_test
    </title>
  </head>

  <body bgcolor="#EEEEEE" link="#CC0000" alink="#FF3300" vlink="#000055">

    <h1 align = "center">
      timer_test
    </h1>

    <hr>

    <p>
      <b>timer_test</b>,
      C++ codes which
      compute the elapsed CPU time or wall clock time of a part of a calculation.
    </p>

    <p>
      The idea is that you want to
      determine the amount of CPU time taken by a piece of your code, so
      you write lines like this:
      <pre><tt>
        time1 = timer ( );
        for (  i = 0; i < n; i++ )
          ...some big calculation...
        }
        time2 = timer ( );
        cout << "Elapsed CPU time = " << time2 - time1 << " seconds\n";
      </pre></tt>
    </p>

    <p>
      You should not trust a CPU timer.  If you run the same code
      several times in a row, you are likely to get different results,
      especially if you are trying to time things that don't take long.
      The time will often also vary depending on the system load,
      the number of other users or processes running, and other factors.
    </p>

    <p>
      Another problem is "wrap around".  Some timers reach a maximum value,
      and then reset themselves to zero.  If this happens to you, (it's
      happened to me many times!) you may find that a certain procedure
      seems to take negative time!
    </p>

    <p>
      Some timers return CPU time, that is, the amount of elapsed computer
      time that was used by your program; other routines return "real" time
      or "wall clock" time, which will not account for situations in which
      your program started, and then was paused for some reason (swapped out,
      waiting for I/O, or other system functions), and then finished.
    </p>

    <p>
      For parallel programming, the important thing to measure is the elapsed
      wallclock time.  This can be found by subtracting an initial reading of
      the wallclock time from a final one.
    </p>

    <p>
      The OpenMP system provides a function used as follows:
      <pre>
        seconds = omp_get_wtime ( )
        operations to time;
        seconds = omp_get_wtime ( ) - seconds;
      </pre>
      while the MPI system provides a similar function used as:
      <pre>
        seconds = MPI_Wtime ( );
        operations;
        seconds = MPI_Wtime ( ) - seconds;
      </pre>
      and in MATLAB, wallclock time can be taken with "tic" and "toc":
      <pre>
        tic;
        operation;
        seconds = toc;
      </pre>
    </p>

    <h3 align = "center">
      Licensing:
    </h3>

    <p>
      The computer code and data files described and made available on this web page
      are distributed under
      <a href = "https://www.gnu.org/licenses/lgpl-3.0.en.html">the GNU LGPL license.</a>
    </p>

    <h3 align = "center">
      Languages:
    </h3>

    <p>
      <b>timer_test</b> is available in
      <a href = "../../c_src/timer_test/timer_test.html">a C version</a> and
      <a href = "../../cpp_src/timer_test/timer_test.html">a C++ version</a> and
      <a href = "../../f_src/timer_test/timer_test.html">a FORTRAN90 version</a> and
      <a href = "../../m_src/timer_test/timer_test.html">a MATLAB version</a> and
      <a href = "../../py_src/timer_test/timer_test.html">a Python version</a>.
    </p>

    <h3 align = "center">
      Related Data and Programs:
    </h3>

    <p>
      <a href = "../../cpp_src/mpi_test/mpi_test.html">
      mpi_test</a>,
      C++ programs which
      illustrate the use of the MPI application program interface
      for carrying out parallel computations in a distributed memory environment.
    </p>

    <p>
      <a href = "../../cpp_src/openmp_test/openmp_test.html">
      openmp_test</a>,
      C++ programs which
      illustrate the use of the OpenMP application program interface
      for carrying out parallel computations in a shared memory environment.
    </p>

    <p>
      <a href = "../../cpp_src/timestamp/timestamp.html">
      TIMESTAMP</a>,
      a C++ library which
      can display the current wall clock time.
    </p>

    <p>
      <a href = "../../cpp_src/wtime/wtime.html">
      WTIME</a>,
      a C++ library which
      returns a reading of the wall clock time in seconds.
    </p>

    <h3 align = "center">
      Source code:
    </h3>

    <p>
      <ul>
        <li>
          <a href = "timer_test.sh">timer_test.sh</a>, 
          runs all the tests.
        </li>
        <li>
          <a href = "timer_test.txt">timer_test.txt</a>,
          the output file.
        </li>
      </ul>
    </p>

    <p>
      <ul>
        <li>
          <a href = "timer_chrono.cpp">timer_chrono.cpp</a>, 
          uses the C++ high precision CHRONO routines:
        </li>
        <li>
          <a href = "timer_clock.cpp">timer_clock.cpp</a>,
          uses CLOCK() for CPU time measurements:
        </li>
        <li>
          <a href = "timer_omp_get_wtime.cpp">timer_omp_get_wtime.cpp</a>, 
          uses the OpenMP wall clock function omp_get_wtime():
        </li>
        <li>
          <a href = "timer_time.cpp">timer_time.cpp</a>, 
          uses TIME().
        </li>
      </ul>
    </p>

    <hr>

    <i>
      Last revised on 01 May 2020.
    </i>

    <!-- John Burkardt -->

  </body>

</html>
